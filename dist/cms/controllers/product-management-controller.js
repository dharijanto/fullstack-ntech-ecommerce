"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const base_controller_1=require("./base-controller"),product_service_1=require("../../services/product-service");class ProductManagementController extends base_controller_1.default{constructor(e){super(e),super.routePost("/category",(e,t,r)=>{product_service_1.default.createCategory(e.body).then(e=>{t.json(e)}).catch(r)}),super.routeGet("/categories",(e,t,r)=>{product_service_1.default.getCategories().then(e=>{t.json(e)}).catch(r)}),super.routePost("/category/edit",(e,t,r)=>{product_service_1.default.updateCategory(e.body.id,e.body).then(e=>{t.json(e)}).catch(r)}),super.routePost("/category/delete",(e,t,r)=>{product_service_1.default.deleteCategory(e.body.id).then(e=>{t.json(e)}).catch(r)}),super.routePost("/subCategory",(e,t,r)=>{e.query.categoryId?product_service_1.default.createSubCategory(Object.assign({},e.body,{categoryId:e.query.categoryId})).then(e=>{t.json(e)}).catch(r):t.json({status:!1,errMessage:"Category is needed"})}),super.routeGet("/subCategories",(e,t,r)=>{product_service_1.default.getSubCategories(e.query.categoryId).then(e=>{t.json(e)}).catch(r)}),super.routePost("/subCategory/edit",(e,t,r)=>{product_service_1.default.updateSubCategory(e.body.id,e.body).then(e=>{t.json(e)}).catch(r)}),super.routePost("/subCategory/delete",(e,t,r)=>{product_service_1.default.deleteSubCategory(e.body.id).then(e=>{t.json(e)}).catch(r)})}}exports.default=ProductManagementController;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbXMvY29udHJvbGxlcnMvcHJvZHVjdC1tYW5hZ2VtZW50LWNvbnRyb2xsZXIudHMiXSwibmFtZXMiOlsiYmFzZV9jb250cm9sbGVyXzEiLCJyZXF1aXJlIiwicHJvZHVjdF9zZXJ2aWNlXzEiLCJQcm9kdWN0TWFuYWdlbWVudENvbnRyb2xsZXIiLCJkZWZhdWx0IiwiW29iamVjdCBPYmplY3RdIiwiaW5pdERhdGEiLCJzdXBlciIsInJvdXRlUG9zdCIsInJlcSIsInJlcyIsIm5leHQiLCJjcmVhdGVDYXRlZ29yeSIsImJvZHkiLCJ0aGVuIiwicmVzcCIsImpzb24iLCJjYXRjaCIsInJvdXRlR2V0IiwiZ2V0Q2F0ZWdvcmllcyIsInVwZGF0ZUNhdGVnb3J5IiwiaWQiLCJkZWxldGVDYXRlZ29yeSIsInF1ZXJ5IiwiY2F0ZWdvcnlJZCIsImNyZWF0ZVN1YkNhdGVnb3J5IiwiT2JqZWN0IiwiYXNzaWduIiwic3RhdHVzIiwiZXJyTWVzc2FnZSIsImdldFN1YkNhdGVnb3JpZXMiLCJ1cGRhdGVTdWJDYXRlZ29yeSIsImRlbGV0ZVN1YkNhdGVnb3J5IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Im9FQUFBLE1BQUFBLGtCQUFBQyxRQUFBLHFCQUNBQyxrQkFBQUQsUUFBQSx3Q0FFQUUsb0NBQXlESCxrQkFBQUksUUFDdkRDLFlBQWFDLEdBQ1hDLE1BQU1ELEdBRU5DLE1BQU1DLFVBQVUsWUFBYSxDQUFDQyxFQUFLQyxFQUFLQyxLQUN0Q1Qsa0JBQUFFLFFBQWVRLGVBQWVILEVBQUlJLE1BQU1DLEtBQUtDLElBQzNDTCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixLQUdYSixNQUFNVyxTQUFTLGNBQWUsQ0FBQ1QsRUFBS0MsRUFBS0MsS0FDdkNULGtCQUFBRSxRQUFlZSxnQkFBZ0JMLEtBQUtDLElBQ2xDTCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixLQUdYSixNQUFNQyxVQUFVLGlCQUFrQixDQUFDQyxFQUFLQyxFQUFLQyxLQUMzQ1Qsa0JBQUFFLFFBQWVnQixlQUFlWCxFQUFJSSxLQUFLUSxHQUFJWixFQUFJSSxNQUFNQyxLQUFLQyxJQUN4REwsRUFBSU0sS0FBS0QsS0FDUkUsTUFBTU4sS0FHWEosTUFBTUMsVUFBVSxtQkFBb0IsQ0FBQ0MsRUFBS0MsRUFBS0MsS0FDN0NULGtCQUFBRSxRQUFla0IsZUFBZWIsRUFBSUksS0FBS1EsSUFBSVAsS0FBS0MsSUFDOUNMLEVBQUlNLEtBQUtELEtBQ1JFLE1BQU1OLEtBR1hKLE1BQU1DLFVBQVUsZUFBZ0IsQ0FBQ0MsRUFBS0MsRUFBS0MsS0FDckNGLEVBQUljLE1BQU1DLFdBQ1p0QixrQkFBQUUsUUFBZXFCLGtCQUFpQkMsT0FBQUMsVUFBTWxCLEVBQUlJLE1BQU1XLFdBQVlmLEVBQUljLE1BQU1DLGNBQWNWLEtBQUtDLElBQ3ZGTCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixHQUVURCxFQUFJTSxNQUFPWSxRQUFRLEVBQU9DLFdBQVkseUJBSTFDdEIsTUFBTVcsU0FBUyxpQkFBa0IsQ0FBQ1QsRUFBS0MsRUFBS0MsS0FDMUNULGtCQUFBRSxRQUFlMEIsaUJBQWlCckIsRUFBSWMsTUFBTUMsWUFBWVYsS0FBS0MsSUFDekRMLEVBQUlNLEtBQUtELEtBQ1JFLE1BQU1OLEtBR1hKLE1BQU1DLFVBQVUsb0JBQXFCLENBQUNDLEVBQUtDLEVBQUtDLEtBQzlDVCxrQkFBQUUsUUFBZTJCLGtCQUFrQnRCLEVBQUlJLEtBQUtRLEdBQUlaLEVBQUlJLE1BQU1DLEtBQUtDLElBQzNETCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixLQUdYSixNQUFNQyxVQUFVLHNCQUF1QixDQUFDQyxFQUFLQyxFQUFLQyxLQUNoRFQsa0JBQUFFLFFBQWU0QixrQkFBa0J2QixFQUFJSSxLQUFLUSxJQUFJUCxLQUFLQyxJQUNqREwsRUFBSU0sS0FBS0QsS0FDUkUsTUFBTU4sTUFyRGZzQixRQUFBN0IsUUFBQUQiLCJmaWxlIjoiY21zL2NvbnRyb2xsZXJzL3Byb2R1Y3QtbWFuYWdlbWVudC1jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VDb250cm9sbGVyIGZyb20gJy4vYmFzZS1jb250cm9sbGVyJ1xuaW1wb3J0IFByb2R1Y3RTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3Qtc2VydmljZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdE1hbmFnZW1lbnRDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvciAoaW5pdERhdGEpIHtcbiAgICBzdXBlcihpbml0RGF0YSlcblxuICAgIHN1cGVyLnJvdXRlUG9zdCgnL2NhdGVnb3J5JywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBQcm9kdWN0U2VydmljZS5jcmVhdGVDYXRlZ29yeShyZXEuYm9keSkudGhlbihyZXNwID0+IHtcbiAgICAgICAgcmVzLmpzb24ocmVzcClcbiAgICAgIH0pLmNhdGNoKG5leHQpXG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlR2V0KCcvY2F0ZWdvcmllcycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgUHJvZHVjdFNlcnZpY2UuZ2V0Q2F0ZWdvcmllcygpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG5cbiAgICBzdXBlci5yb3V0ZVBvc3QoJy9jYXRlZ29yeS9lZGl0JywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBQcm9kdWN0U2VydmljZS51cGRhdGVDYXRlZ29yeShyZXEuYm9keS5pZCwgcmVxLmJvZHkpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG5cbiAgICBzdXBlci5yb3V0ZVBvc3QoJy9jYXRlZ29yeS9kZWxldGUnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIFByb2R1Y3RTZXJ2aWNlLmRlbGV0ZUNhdGVnb3J5KHJlcS5ib2R5LmlkKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICByZXMuanNvbihyZXNwKVxuICAgICAgfSkuY2F0Y2gobmV4dClcbiAgICB9KVxuXG4gICAgc3VwZXIucm91dGVQb3N0KCcvc3ViQ2F0ZWdvcnknLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGlmIChyZXEucXVlcnkuY2F0ZWdvcnlJZCkge1xuICAgICAgICBQcm9kdWN0U2VydmljZS5jcmVhdGVTdWJDYXRlZ29yeSh7IC4uLnJlcS5ib2R5LCBjYXRlZ29yeUlkOiByZXEucXVlcnkuY2F0ZWdvcnlJZCB9KS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICAgIH0pLmNhdGNoKG5leHQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuanNvbih7IHN0YXR1czogZmFsc2UsIGVyck1lc3NhZ2U6ICdDYXRlZ29yeSBpcyBuZWVkZWQnIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlR2V0KCcvc3ViQ2F0ZWdvcmllcycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgUHJvZHVjdFNlcnZpY2UuZ2V0U3ViQ2F0ZWdvcmllcyhyZXEucXVlcnkuY2F0ZWdvcnlJZCkudGhlbihyZXNwID0+IHtcbiAgICAgICAgcmVzLmpzb24ocmVzcClcbiAgICAgIH0pLmNhdGNoKG5leHQpXG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlUG9zdCgnL3N1YkNhdGVnb3J5L2VkaXQnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIFByb2R1Y3RTZXJ2aWNlLnVwZGF0ZVN1YkNhdGVnb3J5KHJlcS5ib2R5LmlkLCByZXEuYm9keSkudGhlbihyZXNwID0+IHtcbiAgICAgICAgcmVzLmpzb24ocmVzcClcbiAgICAgIH0pLmNhdGNoKG5leHQpXG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlUG9zdCgnL3N1YkNhdGVnb3J5L2RlbGV0ZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgUHJvZHVjdFNlcnZpY2UuZGVsZXRlU3ViQ2F0ZWdvcnkocmVxLmJvZHkuaWQpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==
