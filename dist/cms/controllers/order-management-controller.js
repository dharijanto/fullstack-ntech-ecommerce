"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const base_controller_1=require("./base-controller"),order_service_1=require("../../services/order-service");let log=require("npmlog");const TAG="OrderManagementController";class OrderManagementController extends base_controller_1.default{constructor(e){super(e,!1),super.routeGet("/",(e,r,s)=>{r.render("order-management")}),super.routeGet("/orders",(e,r,s)=>{const t=e.query.shopId;t?order_service_1.default.getOrders(t).then(r.json.bind(r)).catch(s):r.json({status:!1,errMessage:"shopId is required!"})}),super.routeGet("/order-details",(e,r,s)=>{const t=e.query.orderId;t?order_service_1.default.getOrderDetails(t).then(r.json.bind(r)).catch(s):r.json({status:!1,errMessage:"orderId is required!"})})}}exports.default=OrderManagementController;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbXMvY29udHJvbGxlcnMvb3JkZXItbWFuYWdlbWVudC1jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbImJhc2VfY29udHJvbGxlcl8xIiwicmVxdWlyZSIsIm9yZGVyX3NlcnZpY2VfMSIsImxvZyIsIlRBRyIsIk9yZGVyTWFuYWdlbWVudENvbnRyb2xsZXIiLCJkZWZhdWx0IiwiW29iamVjdCBPYmplY3RdIiwiaW5pdERhdGEiLCJzdXBlciIsInJvdXRlR2V0IiwicmVxIiwicmVzIiwibmV4dCIsInJlbmRlciIsInNob3BJZCIsInF1ZXJ5IiwiZ2V0T3JkZXJzIiwidGhlbiIsImpzb24iLCJiaW5kIiwiY2F0Y2giLCJzdGF0dXMiLCJlcnJNZXNzYWdlIiwib3JkZXJJZCIsImdldE9yZGVyRGV0YWlscyIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJvRUFDQSxNQUFBQSxrQkFBQUMsUUFBQSxxQkFDQUMsZ0JBQUFELFFBQUEsZ0NBTUEsSUFBSUUsSUFBTUYsUUFBUSxVQUVsQixNQUFNRyxJQUFNLGtDQUNaQyxrQ0FBdURMLGtCQUFBTSxRQUNyREMsWUFBYUMsR0FDWEMsTUFBTUQsR0FBVSxHQUNoQkMsTUFBTUMsU0FBUyxJQUFLLENBQUNDLEVBQUtDLEVBQUtDLEtBQzdCRCxFQUFJRSxPQUFPLHNCQUdiTCxNQUFNQyxTQUFTLFVBQVcsQ0FBQ0MsRUFBS0MsRUFBS0MsS0FDbkMsTUFBTUUsRUFBU0osRUFBSUssTUFBTUQsT0FDckJBLEVBQ0ZiLGdCQUFBSSxRQUFhVyxVQUFVRixHQUFRRyxLQUFLTixFQUFJTyxLQUFLQyxLQUFLUixJQUFNUyxNQUFNUixHQUU5REQsRUFBSU8sTUFBT0csUUFBUSxFQUFPQyxXQUFZLDBCQUkxQ2QsTUFBTUMsU0FBUyxpQkFBa0IsQ0FBQ0MsRUFBS0MsRUFBS0MsS0FDMUMsTUFBTVcsRUFBVWIsRUFBSUssTUFBTVEsUUFDdEJBLEVBQ0Z0QixnQkFBQUksUUFBYW1CLGdCQUFnQkQsR0FBU04sS0FBS04sRUFBSU8sS0FBS0MsS0FBS1IsSUFBTVMsTUFBTVIsR0FFckVELEVBQUlPLE1BQU9HLFFBQVEsRUFBT0MsV0FBWSw0QkFyQjlDRyxRQUFBcEIsUUFBQUQiLCJmaWxlIjoiY21zL2NvbnRyb2xsZXJzL29yZGVyLW1hbmFnZW1lbnQtY29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBCYXNlQ29udHJvbGxlciBmcm9tICcuL2Jhc2UtY29udHJvbGxlcidcbmltcG9ydCBPcmRlclNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvb3JkZXItc2VydmljZSdcbmltcG9ydCB7IEltYWdlU2VydmljZSB9IGZyb20gJy4uLy4uL3NpdGUtZGVmaW5pdGlvbnMnXG5cbmltcG9ydCBBcHBDb25maWcgZnJvbSAnLi4vLi4vYXBwLWNvbmZpZydcbmltcG9ydCBTaG9wU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9zaG9wLXNlcnZpY2UnXG5cbmxldCBsb2cgPSByZXF1aXJlKCducG1sb2cnKVxuXG5jb25zdCBUQUcgPSAnT3JkZXJNYW5hZ2VtZW50Q29udHJvbGxlcidcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyTWFuYWdlbWVudENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yIChpbml0RGF0YSkge1xuICAgIHN1cGVyKGluaXREYXRhLCBmYWxzZSlcbiAgICBzdXBlci5yb3V0ZUdldCgnLycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgcmVzLnJlbmRlcignb3JkZXItbWFuYWdlbWVudCcpXG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlR2V0KCcvb3JkZXJzJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBzaG9wSWQgPSByZXEucXVlcnkuc2hvcElkXG4gICAgICBpZiAoc2hvcElkKSB7XG4gICAgICAgIE9yZGVyU2VydmljZS5nZXRPcmRlcnMoc2hvcElkKS50aGVuKHJlcy5qc29uLmJpbmQocmVzKSkuY2F0Y2gobmV4dClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5qc29uKHsgc3RhdHVzOiBmYWxzZSwgZXJyTWVzc2FnZTogJ3Nob3BJZCBpcyByZXF1aXJlZCEnIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlR2V0KCcvb3JkZXItZGV0YWlscycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc3Qgb3JkZXJJZCA9IHJlcS5xdWVyeS5vcmRlcklkXG4gICAgICBpZiAob3JkZXJJZCkge1xuICAgICAgICBPcmRlclNlcnZpY2UuZ2V0T3JkZXJEZXRhaWxzKG9yZGVySWQpLnRoZW4ocmVzLmpzb24uYmluZChyZXMpKS5jYXRjaChuZXh0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBlcnJNZXNzYWdlOiAnb3JkZXJJZCBpcyByZXF1aXJlZCEnIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuIl19
