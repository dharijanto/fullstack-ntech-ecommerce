"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const base_controller_1=require("./base-controller"),product_service_1=require("../../services/product-service");class ProductController extends base_controller_1.default{constructor(e){super(e),super.routePost("/category",(e,t,r)=>{product_service_1.default.createCategory(e.body).then(e=>{t.json(e)}).catch(r)}),super.routeGet("/categories",(e,t,r)=>{product_service_1.default.getCategories().then(e=>{t.json(e)}).catch(r)}),super.routePost("/category/edit",(e,t,r)=>{product_service_1.default.updateCategory(e.body.id,e.body).then(e=>{t.json(e)}).catch(r)}),super.routePost("/category/delete",(e,t,r)=>{product_service_1.default.deleteCategory(e.body.id).then(e=>{t.json(e)}).catch(r)}),super.routePost("/subCategory",(e,t,r)=>{product_service_1.default.createSubCategory(e.body).then(e=>{t.json(e)}).catch(r)}),super.routeGet("/subCategories",(e,t,r)=>{product_service_1.default.getSubCategories(e.query.categoryId).then(e=>{t.json(e)}).catch(r)}),super.routePost("/subCategory/edit",(e,t,r)=>{product_service_1.default.updateSubCategory(e.body.id,e.body).then(e=>{t.json(e)}).catch(r)}),super.routePost("/subCategory/delete",(e,t,r)=>{product_service_1.default.deleteSubCategory(e.body.id).then(e=>{t.json(e)}).catch(r)})}}exports.default=ProductController;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbXMvY29udHJvbGxlcnMvcHJvZHVjdC1jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbImJhc2VfY29udHJvbGxlcl8xIiwicmVxdWlyZSIsInByb2R1Y3Rfc2VydmljZV8xIiwiUHJvZHVjdENvbnRyb2xsZXIiLCJkZWZhdWx0IiwiW29iamVjdCBPYmplY3RdIiwiaW5pdERhdGEiLCJzdXBlciIsInJvdXRlUG9zdCIsInJlcSIsInJlcyIsIm5leHQiLCJjcmVhdGVDYXRlZ29yeSIsImJvZHkiLCJ0aGVuIiwicmVzcCIsImpzb24iLCJjYXRjaCIsInJvdXRlR2V0IiwiZ2V0Q2F0ZWdvcmllcyIsInVwZGF0ZUNhdGVnb3J5IiwiaWQiLCJkZWxldGVDYXRlZ29yeSIsImNyZWF0ZVN1YkNhdGVnb3J5IiwiZ2V0U3ViQ2F0ZWdvcmllcyIsInF1ZXJ5IiwiY2F0ZWdvcnlJZCIsInVwZGF0ZVN1YkNhdGVnb3J5IiwiZGVsZXRlU3ViQ2F0ZWdvcnkiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoib0VBQUEsTUFBQUEsa0JBQUFDLFFBQUEscUJBQ0FDLGtCQUFBRCxRQUFBLHdDQUVBRSwwQkFBK0NILGtCQUFBSSxRQUM3Q0MsWUFBYUMsR0FDWEMsTUFBTUQsR0FFTkMsTUFBTUMsVUFBVSxZQUFhLENBQUNDLEVBQUtDLEVBQUtDLEtBQ3RDVCxrQkFBQUUsUUFBZVEsZUFBZUgsRUFBSUksTUFBTUMsS0FBS0MsSUFDM0NMLEVBQUlNLEtBQUtELEtBQ1JFLE1BQU1OLEtBR1hKLE1BQU1XLFNBQVMsY0FBZSxDQUFDVCxFQUFLQyxFQUFLQyxLQUN2Q1Qsa0JBQUFFLFFBQWVlLGdCQUFnQkwsS0FBS0MsSUFDbENMLEVBQUlNLEtBQUtELEtBQ1JFLE1BQU1OLEtBR1hKLE1BQU1DLFVBQVUsaUJBQWtCLENBQUNDLEVBQUtDLEVBQUtDLEtBQzNDVCxrQkFBQUUsUUFBZWdCLGVBQWVYLEVBQUlJLEtBQUtRLEdBQUlaLEVBQUlJLE1BQU1DLEtBQUtDLElBQ3hETCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixLQUdYSixNQUFNQyxVQUFVLG1CQUFvQixDQUFDQyxFQUFLQyxFQUFLQyxLQUM3Q1Qsa0JBQUFFLFFBQWVrQixlQUFlYixFQUFJSSxLQUFLUSxJQUFJUCxLQUFLQyxJQUM5Q0wsRUFBSU0sS0FBS0QsS0FDUkUsTUFBTU4sS0FHWEosTUFBTUMsVUFBVSxlQUFnQixDQUFDQyxFQUFLQyxFQUFLQyxLQUN6Q1Qsa0JBQUFFLFFBQWVtQixrQkFBa0JkLEVBQUlJLE1BQU1DLEtBQUtDLElBQzlDTCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixLQUdYSixNQUFNVyxTQUFTLGlCQUFrQixDQUFDVCxFQUFLQyxFQUFLQyxLQUMxQ1Qsa0JBQUFFLFFBQWVvQixpQkFBaUJmLEVBQUlnQixNQUFNQyxZQUFZWixLQUFLQyxJQUN6REwsRUFBSU0sS0FBS0QsS0FDUkUsTUFBTU4sS0FHWEosTUFBTUMsVUFBVSxvQkFBcUIsQ0FBQ0MsRUFBS0MsRUFBS0MsS0FDOUNULGtCQUFBRSxRQUFldUIsa0JBQWtCbEIsRUFBSUksS0FBS1EsR0FBSVosRUFBSUksTUFBTUMsS0FBS0MsSUFDM0RMLEVBQUlNLEtBQUtELEtBQ1JFLE1BQU1OLEtBR1hKLE1BQU1DLFVBQVUsc0JBQXVCLENBQUNDLEVBQUtDLEVBQUtDLEtBQ2hEVCxrQkFBQUUsUUFBZXdCLGtCQUFrQm5CLEVBQUlJLEtBQUtRLElBQUlQLEtBQUtDLElBQ2pETCxFQUFJTSxLQUFLRCxLQUNSRSxNQUFNTixNQWpEZmtCLFFBQUF6QixRQUFBRCIsImZpbGUiOiJjbXMvY29udHJvbGxlcnMvcHJvZHVjdC1jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VDb250cm9sbGVyIGZyb20gJy4vYmFzZS1jb250cm9sbGVyJ1xuaW1wb3J0IFByb2R1Y3RTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3Qtc2VydmljZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yIChpbml0RGF0YSkge1xuICAgIHN1cGVyKGluaXREYXRhKVxuXG4gICAgc3VwZXIucm91dGVQb3N0KCcvY2F0ZWdvcnknLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIFByb2R1Y3RTZXJ2aWNlLmNyZWF0ZUNhdGVnb3J5KHJlcS5ib2R5KS50aGVuKHJlc3AgPT4ge1xuICAgICAgICByZXMuanNvbihyZXNwKVxuICAgICAgfSkuY2F0Y2gobmV4dClcbiAgICB9KVxuXG4gICAgc3VwZXIucm91dGVHZXQoJy9jYXRlZ29yaWVzJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBQcm9kdWN0U2VydmljZS5nZXRDYXRlZ29yaWVzKCkudGhlbihyZXNwID0+IHtcbiAgICAgICAgcmVzLmpzb24ocmVzcClcbiAgICAgIH0pLmNhdGNoKG5leHQpXG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlUG9zdCgnL2NhdGVnb3J5L2VkaXQnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIFByb2R1Y3RTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5ib2R5LmlkLCByZXEuYm9keSkudGhlbihyZXNwID0+IHtcbiAgICAgICAgcmVzLmpzb24ocmVzcClcbiAgICAgIH0pLmNhdGNoKG5leHQpXG4gICAgfSlcblxuICAgIHN1cGVyLnJvdXRlUG9zdCgnL2NhdGVnb3J5L2RlbGV0ZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgUHJvZHVjdFNlcnZpY2UuZGVsZXRlQ2F0ZWdvcnkocmVxLmJvZHkuaWQpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG5cbiAgICBzdXBlci5yb3V0ZVBvc3QoJy9zdWJDYXRlZ29yeScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgUHJvZHVjdFNlcnZpY2UuY3JlYXRlU3ViQ2F0ZWdvcnkocmVxLmJvZHkpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG5cbiAgICBzdXBlci5yb3V0ZUdldCgnL3N1YkNhdGVnb3JpZXMnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIFByb2R1Y3RTZXJ2aWNlLmdldFN1YkNhdGVnb3JpZXMocmVxLnF1ZXJ5LmNhdGVnb3J5SWQpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG5cbiAgICBzdXBlci5yb3V0ZVBvc3QoJy9zdWJDYXRlZ29yeS9lZGl0JywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBQcm9kdWN0U2VydmljZS51cGRhdGVTdWJDYXRlZ29yeShyZXEuYm9keS5pZCwgcmVxLmJvZHkpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHJlcy5qc29uKHJlc3ApXG4gICAgICB9KS5jYXRjaChuZXh0KVxuICAgIH0pXG5cbiAgICBzdXBlci5yb3V0ZVBvc3QoJy9zdWJDYXRlZ29yeS9kZWxldGUnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIFByb2R1Y3RTZXJ2aWNlLmRlbGV0ZVN1YkNhdGVnb3J5KHJlcS5ib2R5LmlkKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICByZXMuanNvbihyZXNwKVxuICAgICAgfSkuY2F0Y2gobmV4dClcbiAgICB9KVxuICB9XG59Il19
