"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const base_controller_1=require("./controllers/base-controller"),product_management_controller_1=require("./controllers/product-management-controller"),path=require("path"),log=require("npmlog"),TAG="MainController";class MainController extends base_controller_1.default{constructor(e){super(e),this.addInterceptor((e,r,t)=>{log.verbose(TAG,"req.path="+e.path),r.locals.siteHash=this.siteHash,t()}),this.routeGet("/",(e,r,t)=>{r.render("category")}),e.site.hash="",this.routeUse("/product-management",new product_management_controller_1.default(e).getRouter())}}module.exports=MainController;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbXMvbWFpbi1jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbImJhc2VfY29udHJvbGxlcl8xIiwicmVxdWlyZSIsInByb2R1Y3RfbWFuYWdlbWVudF9jb250cm9sbGVyXzEiLCJwYXRoIiwibG9nIiwiVEFHIiwiTWFpbkNvbnRyb2xsZXIiLCJkZWZhdWx0IiwiW29iamVjdCBPYmplY3RdIiwiaW5pdERhdGEiLCJzdXBlciIsInRoaXMiLCJhZGRJbnRlcmNlcHRvciIsInJlcSIsInJlcyIsIm5leHQiLCJ2ZXJib3NlIiwibG9jYWxzIiwic2l0ZUhhc2giLCJyb3V0ZUdldCIsInJlbmRlciIsInNpdGUiLCJoYXNoIiwicm91dGVVc2UiLCJnZXRSb3V0ZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoib0VBQUEsTUFBQUEsa0JBQUFDLFFBQUEsaUNBQ0FDLGdDQUFBRCxRQUFBLCtDQUdNRSxLQUFPRixRQUFRLFFBRWZHLElBQU1ILFFBQVEsVUFFZEksSUFBTSx1QkFDWkMsdUJBQTZCTixrQkFBQU8sUUFDM0JDLFlBQWFDLEdBQ1hDLE1BQU1ELEdBQ05FLEtBQUtDLGVBQWUsQ0FBQ0MsRUFBS0MsRUFBS0MsS0FDN0JYLElBQUlZLFFBQVFYLElBQUssWUFBY1EsRUFBSVYsTUFDbkNXLEVBQUlHLE9BQU9DLFNBQVdQLEtBQUtPLFNBQzNCSCxNQUdGSixLQUFLUSxTQUFTLElBQUssQ0FBQ04sRUFBS0MsRUFBS0MsS0FDNUJELEVBQUlNLE9BQU8sY0FHYlgsRUFBU1ksS0FBS0MsS0FBTyxHQUNyQlgsS0FBS1ksU0FBUyxzQkFBdUIsSUFBSXJCLGdDQUFBSyxRQUE0QkUsR0FBVWUsY0FJbkZDLE9BQU9DLFFBQVVwQiIsImZpbGUiOiJjbXMvbWFpbi1jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcnMvYmFzZS1jb250cm9sbGVyJ1xuaW1wb3J0IFByb2R1Y3RNYW5hZ2VtZW50Q29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXJzL3Byb2R1Y3QtbWFuYWdlbWVudC1jb250cm9sbGVyJ1xuaW1wb3J0IHsgU2l0ZURhdGEgfSBmcm9tICcuLi9zaXRlLWRlZmluaXRpb25zJ1xuXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5cbmNvbnN0IGxvZyA9IHJlcXVpcmUoJ25wbWxvZycpXG5cbmNvbnN0IFRBRyA9ICdNYWluQ29udHJvbGxlcidcbmNsYXNzIE1haW5Db250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvciAoaW5pdERhdGE6IFNpdGVEYXRhKSB7XG4gICAgc3VwZXIoaW5pdERhdGEpXG4gICAgdGhpcy5hZGRJbnRlcmNlcHRvcigocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGxvZy52ZXJib3NlKFRBRywgJ3JlcS5wYXRoPScgKyByZXEucGF0aClcbiAgICAgIHJlcy5sb2NhbHMuc2l0ZUhhc2ggPSB0aGlzLnNpdGVIYXNoXG4gICAgICBuZXh0KClcbiAgICB9KVxuXG4gICAgdGhpcy5yb3V0ZUdldCgnLycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgcmVzLnJlbmRlcignY2F0ZWdvcnknKVxuICAgIH0pXG5cbiAgICBpbml0RGF0YS5zaXRlLmhhc2ggPSAnJ1xuICAgIHRoaXMucm91dGVVc2UoJy9wcm9kdWN0LW1hbmFnZW1lbnQnLCBuZXcgUHJvZHVjdE1hbmFnZW1lbnRDb250cm9sbGVyKGluaXREYXRhKS5nZXRSb3V0ZXIoKSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1haW5Db250cm9sbGVyXG4iXX0=
